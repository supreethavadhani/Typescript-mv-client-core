import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { MatSort } from '@angular/material/sort';
import { MatTableDataSource, MatTable } from '@angular/material/table';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/material/button";
import * as i3 from "@angular/material/form-field";
import * as i4 from "@angular/material/paginator";
import * as i5 from "@angular/material/sort";
import * as i6 from "@angular/material/table";
export class MvTableComponent {
    constructor() {
        this.editAction = new EventEmitter();
        this.tableData = { data: [], metaData: {} };
        this.values = [];
        this.colored = [];
        this.separatorKeysCodes = [13, 9, 188];
        this.isView = 'auto';
        this.dropdownShow = false;
        this.filters = {};
    }
    update() {
        this.isView = this.tableData.metaData.view ? 'pointer' : 'auto';
        this.tableData = this.tableGridData;
        this.columns = this.tableData.metaData.column_names;
        this.tempDatasource = this.tableGridData.data;
        this.tempDatasource = this.tableGridData.data;
        this.tableData.metaData.column_names = this.tableData.metaData.column_names.concat(['edit']);
        this.dataSource = new MatTableDataSource(this.tableData.data);
        this.dataSource.sort = this.sort;
    }
    getColumnData(fd) {
        let tableData = {
            data: [],
            metaData: {
                column_names: [],
                display_names: {},
            },
        };
        fd.form.fields.forEach(i => {
            if (i.controlType == 'Input') {
                tableData.metaData.column_names.push(i.name);
                tableData.metaData.display_names[i.name] = i.label;
            }
        });
        return tableData;
    }
    fetchRowNumberEdit(rowData) {
        this.rowNumber = this.tempDatasource.indexOf(rowData);
        console.log(this.rowNumber);
        this.editAction.next(this.rowNumber);
    }
    applyFilter(filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    }
}
MvTableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.1.3", ngImport: i0, type: MvTableComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
MvTableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.1.3", type: MvTableComponent, selector: "app-mv-table", inputs: { tableGridData: "tableGridData" }, outputs: { editAction: "editAction" }, viewQueries: [{ propertyName: "table", first: true, predicate: MatTable, descendants: true, static: true }, { propertyName: "sort", first: true, predicate: MatSort, descendants: true, static: true }], ngImport: i0, template: "<mat-form-field appearance=\"none\" style=\"width: 80%;\">\r\n\t\t\r\n      <input style=\"width:100%; font-family: Roboto-Light;font-size: 0.8333vw;\"  placeholder=\"Search Records\" (keyup)=\"applyFilter($event.target.value)\"\r\n      />\r\n\r\n</mat-form-field>\r\n\r\n<div class=\"table-container\" id=\"tableContainer\">\r\n  <table mat-table [dataSource]=\"dataSource\" matSort>\r\n    <ng-container *ngFor=\"let i of tableData.metaData.column_names; let index=index\" matColumnDef=\"{{i}}\">\r\n      <ng-container *ngIf=\"i=='edit'; else dataPart\">\r\n        <th mat-header-cell *matHeaderCellDef>\r\n        </th>\r\n        <td style=\"padding-right: 14px;\" mat-cell *matCellDef=\"let element;let rowData=$implicit;\" class=\"edit\"\r\n          (click)=\"fetchRowNumberEdit(rowData)\"><button style=\"outline: none;\" mat-button>EDIT</button></td>\r\n      </ng-container>\r\n      <ng-template #dataPart>\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n          {{tableData.metaData.display_names[i]}}\r\n        </th>\r\n        <td mat-cell *matCellDef=\"let element;\">{{element[i]}}</td>\r\n      </ng-template>\r\n    </ng-container>\r\n    <tr mat-header-row *matHeaderRowDef=\" tableData.metaData.column_names;sticky: true\"></tr>\r\n    <tr mat-row *matRowDef=\"let row; columns: tableData.metaData.column_names;\"></tr>\r\n    <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\"\r\n    showFirstLastButtons\r\n    aria-label=\"Select page of periodic elements\">\r\n</mat-paginator>\r\n  </table>\r\n</div>\r\n", styles: [".table-container{max-height:85vh;overflow:auto}table{width:100%}tr.mat-header-row{height:3.125rem;font-weight:700}th{height:3.125rem;font-family:Lato!important;font-size:1.3rem;color:#004faa;border-bottom:none!important}td{height:3.125rem;cursor:pointer;border-bottom:1px dashed #e0e0e0!important;font-size:.937vw;color:#0009}:host ::ng-deep .mat-form-field-wrapper{padding-bottom:0!important}:host ::ng-deep .mat-form-field-infix{width:auto}tr.mat-row,tr.mat-footer-row{height:5rem}\n"], dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { kind: "component", type: i3.MatFormField, selector: "mat-form-field", inputs: ["color", "appearance", "hideRequiredMarker", "hintLabel", "floatLabel"], exportAs: ["matFormField"] }, { kind: "component", type: i4.MatPaginator, selector: "mat-paginator", inputs: ["disabled"], exportAs: ["matPaginator"] }, { kind: "directive", type: i5.MatSort, selector: "[matSort]", inputs: ["matSortDisabled", "matSortActive", "matSortStart", "matSortDirection", "matSortDisableClear"], outputs: ["matSortChange"], exportAs: ["matSort"] }, { kind: "component", type: i5.MatSortHeader, selector: "[mat-sort-header]", inputs: ["disabled", "mat-sort-header", "arrowPosition", "start", "sortActionDescription", "disableClear"], exportAs: ["matSortHeader"] }, { kind: "component", type: i6.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { kind: "directive", type: i6.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { kind: "directive", type: i6.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { kind: "directive", type: i6.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { kind: "directive", type: i6.MatCellDef, selector: "[matCellDef]" }, { kind: "directive", type: i6.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }, { kind: "directive", type: i6.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { kind: "directive", type: i6.MatCell, selector: "mat-cell, td[mat-cell]" }, { kind: "component", type: i6.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { kind: "component", type: i6.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.1.3", ngImport: i0, type: MvTableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-mv-table', template: "<mat-form-field appearance=\"none\" style=\"width: 80%;\">\r\n\t\t\r\n      <input style=\"width:100%; font-family: Roboto-Light;font-size: 0.8333vw;\"  placeholder=\"Search Records\" (keyup)=\"applyFilter($event.target.value)\"\r\n      />\r\n\r\n</mat-form-field>\r\n\r\n<div class=\"table-container\" id=\"tableContainer\">\r\n  <table mat-table [dataSource]=\"dataSource\" matSort>\r\n    <ng-container *ngFor=\"let i of tableData.metaData.column_names; let index=index\" matColumnDef=\"{{i}}\">\r\n      <ng-container *ngIf=\"i=='edit'; else dataPart\">\r\n        <th mat-header-cell *matHeaderCellDef>\r\n        </th>\r\n        <td style=\"padding-right: 14px;\" mat-cell *matCellDef=\"let element;let rowData=$implicit;\" class=\"edit\"\r\n          (click)=\"fetchRowNumberEdit(rowData)\"><button style=\"outline: none;\" mat-button>EDIT</button></td>\r\n      </ng-container>\r\n      <ng-template #dataPart>\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n          {{tableData.metaData.display_names[i]}}\r\n        </th>\r\n        <td mat-cell *matCellDef=\"let element;\">{{element[i]}}</td>\r\n      </ng-template>\r\n    </ng-container>\r\n    <tr mat-header-row *matHeaderRowDef=\" tableData.metaData.column_names;sticky: true\"></tr>\r\n    <tr mat-row *matRowDef=\"let row; columns: tableData.metaData.column_names;\"></tr>\r\n    <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\"\r\n    showFirstLastButtons\r\n    aria-label=\"Select page of periodic elements\">\r\n</mat-paginator>\r\n  </table>\r\n</div>\r\n", styles: [".table-container{max-height:85vh;overflow:auto}table{width:100%}tr.mat-header-row{height:3.125rem;font-weight:700}th{height:3.125rem;font-family:Lato!important;font-size:1.3rem;color:#004faa;border-bottom:none!important}td{height:3.125rem;cursor:pointer;border-bottom:1px dashed #e0e0e0!important;font-size:.937vw;color:#0009}:host ::ng-deep .mat-form-field-wrapper{padding-bottom:0!important}:host ::ng-deep .mat-form-field-infix{width:auto}tr.mat-row,tr.mat-footer-row{height:5rem}\n"] }]
        }], propDecorators: { tableGridData: [{
                type: Input
            }], editAction: [{
                type: Output
            }], table: [{
                type: ViewChild,
                args: [MatTable, { static: true }]
            }], sort: [{
                type: ViewChild,
                args: [MatSort, { static: true }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbXYtY2xpZW50LWNvcmUvc3JjL212LWNvcmUvbXYtY29tcG9uZW50cy9tdi10YWJsZS9jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tdi1jbGllbnQtY29yZS9zcmMvbXYtY29yZS9tdi1jb21wb25lbnRzL212LXRhYmxlL2NvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBQyxNQUFNLEVBQUMsU0FBUyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsUUFBUSxFQUFrQixNQUFNLHlCQUF5QixDQUFDOzs7Ozs7OztBQVd2RixNQUFNLE9BQU8sZ0JBQWdCO0lBTjdCO1FBUVcsZUFBVSxHQUFHLElBQUksWUFBWSxFQUFVLENBQUM7UUFJM0MsY0FBUyxHQUFPLEVBQUMsSUFBSSxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLENBQUM7UUFFdEMsV0FBTSxHQUFlLEVBQUUsQ0FBQztRQUcvQixZQUFPLEdBQVUsRUFBRSxDQUFBO1FBRVYsdUJBQWtCLEdBQWEsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3JELFdBQU0sR0FBVyxNQUFNLENBQUM7UUFDeEIsaUJBQVksR0FBWSxLQUFLLENBQUM7UUFDOUIsWUFBTyxHQUFPLEVBQUUsQ0FBQztLQThDakI7SUEzQ0EsTUFBTTtRQUNMLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQTtRQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7UUFDcEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUE7UUFFbkQsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsYUFBYyxDQUFDLElBQUksQ0FBQztRQUMvQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxhQUFjLENBQUMsSUFBSSxDQUFBO1FBQzlDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUM3RixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksa0JBQWtCLENBQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2pDLENBQUM7SUFFRixhQUFhLENBQUMsRUFBVztRQUN4QixJQUFJLFNBQVMsR0FBaUI7WUFDN0IsSUFBSSxFQUFFLEVBQUU7WUFDUixRQUFRLEVBQUU7Z0JBQ1IsWUFBWSxFQUFDLEVBQ1o7Z0JBQ0QsYUFBYSxFQUFFLEVBQ2Q7YUFFRjtTQUNDLENBQUM7UUFDSixFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFBLEVBQUU7WUFDMUIsSUFBRyxDQUFDLENBQUMsV0FBVyxJQUFJLE9BQU8sRUFBRTtnQkFDN0IsU0FBUyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDNUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUE7YUFDakQ7UUFDRixDQUFDLENBQUMsQ0FBQTtRQUNGLE9BQU8sU0FBUyxDQUFBO0lBQ2pCLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxPQUFXO1FBQzdCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDM0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxXQUFXLENBQUMsV0FBbUI7UUFDaEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3pELENBQUM7OzZHQTNEUyxnQkFBZ0I7aUdBQWhCLGdCQUFnQiw4S0FHakIsUUFBUSxxRkFDUixPQUFPLDhEQ2pCbkIsb2hEQStCQTsyRkRsQmEsZ0JBQWdCO2tCQU41QixTQUFTOytCQUNDLGNBQWM7OEJBTWYsYUFBYTtzQkFBckIsS0FBSztnQkFDSSxVQUFVO3NCQUFuQixNQUFNO2dCQUM0QixLQUFLO3NCQUF2QyxTQUFTO3VCQUFDLFFBQVEsRUFBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUM7Z0JBQ0csSUFBSTtzQkFBdkMsU0FBUzt1QkFBQyxPQUFPLEVBQUUsRUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LE91dHB1dCxWaWV3Q2hpbGR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBNYXRTb3J0IH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc29ydCc7XHJcbmltcG9ydCB7IE1hdFRhYmxlRGF0YVNvdXJjZSwgTWF0VGFibGUsIE1hdFRhYmxlTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdGFibGUnO1xyXG5pbXBvcnQgeyBWbyB9IGZyb20gJy4uLy4uL212LWZvcm0tY29yZS90eXBlcyc7XHJcbmltcG9ydCB7IEZvcm1EYXRhIH0gZnJvbSAnLi4vLi4vbXYtZm9ybS1jb3JlL2Zvcm1EYXRhJztcclxuXHJcblxyXG5AQ29tcG9uZW50KHtcclxuXHRzZWxlY3RvcjogJ2FwcC1tdi10YWJsZScsXHJcblx0dGVtcGxhdGVVcmw6ICcuL2NvbXBvbmVudC5odG1sJyxcclxuXHRzdHlsZVVybHM6WycuL2NvbXBvbmVudC5zY3NzJ11cclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBNdlRhYmxlQ29tcG9uZW50IHtcclxuXHRASW5wdXQoKSB0YWJsZUdyaWREYXRhOlRhYmxlTWV0YURhdGEgfCB1bmRlZmluZWQ7XHJcblx0QE91dHB1dCgpIGVkaXRBY3Rpb24gPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcclxuXHRAVmlld0NoaWxkKE1hdFRhYmxlLHtzdGF0aWM6dHJ1ZX0pIHRhYmxlOiBNYXRUYWJsZTxhbnk+IHwgdW5kZWZpbmVkO1xyXG5cdEBWaWV3Q2hpbGQoTWF0U29ydCwge3N0YXRpYzogdHJ1ZX0pIHNvcnQ6IE1hdFNvcnQgfCB1bmRlZmluZWQ7XHJcblx0XHJcblx0cHVibGljIHRhYmxlRGF0YTphbnkgPSB7ZGF0YTpbXSxtZXRhRGF0YTp7fX07XHJcblx0cHVibGljIGRhdGFTb3VyY2U6YW55O1xyXG5cdHB1YmxpYyB2YWx1ZXM6IEFycmF5PGFueT4gPSBbXTtcclxuXHRwdWJsaWMgdGVtcERhdGFzb3VyY2U6IGFueTtcclxuXHRwdWJsaWMgcm93TnVtYmVyOmFueTtcclxuXHRjb2xvcmVkOiBhbnlbXSA9IFtdXHJcblxyXG5cdHJlYWRvbmx5IHNlcGFyYXRvcktleXNDb2RlczogbnVtYmVyW10gPSBbMTMsIDksIDE4OF07XHJcblx0aXNWaWV3OiBzdHJpbmcgPSAnYXV0byc7XHJcblx0ZHJvcGRvd25TaG93OiBib29sZWFuID0gZmFsc2U7XHJcblx0ZmlsdGVyczoge30gPSB7fTtcclxuXHRjb2x1bW5zOiBhbnk7XHJcblxyXG5cdHVwZGF0ZSgpIHtcclxuXHRcdHRoaXMuaXNWaWV3ID0gdGhpcy50YWJsZURhdGEubWV0YURhdGEudmlldyA/ICdwb2ludGVyJyA6ICdhdXRvJ1xyXG5cdFx0dGhpcy50YWJsZURhdGEgPSB0aGlzLnRhYmxlR3JpZERhdGE7XHJcblx0XHR0aGlzLmNvbHVtbnMgPSB0aGlzLnRhYmxlRGF0YS5tZXRhRGF0YS5jb2x1bW5fbmFtZXNcclxuXHJcblx0XHR0aGlzLnRlbXBEYXRhc291cmNlID0gdGhpcy50YWJsZUdyaWREYXRhIS5kYXRhO1xyXG5cdFx0dGhpcy50ZW1wRGF0YXNvdXJjZSA9IHRoaXMudGFibGVHcmlkRGF0YSEuZGF0YVxyXG5cdFx0dGhpcy50YWJsZURhdGEubWV0YURhdGEuY29sdW1uX25hbWVzID0gdGhpcy50YWJsZURhdGEubWV0YURhdGEuY29sdW1uX25hbWVzLmNvbmNhdChbJ2VkaXQnXSk7XHJcblx0XHR0aGlzLmRhdGFTb3VyY2UgPSBuZXcgTWF0VGFibGVEYXRhU291cmNlPGFueT4odGhpcy50YWJsZURhdGEuZGF0YSk7XHJcblx0XHR0aGlzLmRhdGFTb3VyY2Uuc29ydCA9IHRoaXMuc29ydDtcclxuXHRcdH1cclxuXHJcblx0Z2V0Q29sdW1uRGF0YShmZDpGb3JtRGF0YSl7XHJcblx0XHRsZXQgdGFibGVEYXRhOlRhYmxlTWV0YURhdGEgPSB7XHJcblx0XHRcdGRhdGE6IFtdLFxyXG5cdFx0XHRtZXRhRGF0YToge1xyXG5cdFx0XHQgIGNvbHVtbl9uYW1lczpbXHJcblx0XHRcdCAgXSxcclxuXHRcdFx0ICBkaXNwbGF5X25hbWVzOiB7IFxyXG5cdFx0XHQgIH0sXHJcblx0ICBcclxuXHRcdFx0fSxcclxuXHRcdCAgfTtcclxuXHRcdGZkLmZvcm0uZmllbGRzIS5mb3JFYWNoKGk9PntcclxuXHRcdFx0aWYoaS5jb250cm9sVHlwZSA9PSAnSW5wdXQnKSB7XHJcblx0XHRcdHRhYmxlRGF0YS5tZXRhRGF0YS5jb2x1bW5fbmFtZXMucHVzaChpLm5hbWUpXHJcblx0XHRcdHRhYmxlRGF0YS5tZXRhRGF0YS5kaXNwbGF5X25hbWVzW2kubmFtZV0gPSBpLmxhYmVsXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHRyZXR1cm4gdGFibGVEYXRhXHJcblx0fVxyXG5cclxuXHRmZXRjaFJvd051bWJlckVkaXQocm93RGF0YTphbnkpIHtcclxuXHRcdHRoaXMucm93TnVtYmVyID0gdGhpcy50ZW1wRGF0YXNvdXJjZS5pbmRleE9mKHJvd0RhdGEpO1xyXG5cdFx0Y29uc29sZS5sb2codGhpcy5yb3dOdW1iZXIpXHJcblx0XHR0aGlzLmVkaXRBY3Rpb24ubmV4dCh0aGlzLnJvd051bWJlcik7XHJcblx0ICB9XHJcblxyXG5cdCAgYXBwbHlGaWx0ZXIoZmlsdGVyVmFsdWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5kYXRhU291cmNlLmZpbHRlciA9IGZpbHRlclZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG5cdCAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVNZXRhRGF0YXtcclxuXHRkYXRhOlZvW10sXHJcblx0bWV0YURhdGE6e1xyXG5cdFx0Y29sdW1uX25hbWVzOnN0cmluZ1tdLFxyXG5cdFx0ZGlzcGxheV9uYW1lczp7W2tleTpzdHJpbmddOnN0cmluZ30sXHJcblx0XHRlZGl0YWJsZV9jb2x1bW5zPzpzdHJpbmdbXSxcclxuXHRcdGJhZGdlc0NvbHVtbj86c3RyaW5nLFxyXG5cdFx0ZGlzYWJsZUJhZGdlcz86Ym9vbGVhbixcclxuXHRcdGFsbFNlbGVjdGVkPzpib29sZWFuLFxyXG5cdFx0dmlldz86Ym9vbGVhbixcclxuXHRcdGVkaXQ/OmJvb2xlYW4sXHJcblx0XHRzZWFyY2g/OmJvb2xlYW4sXHJcblx0XHRwbGFjZWhvbGRlcj86c3RyaW5nLFxyXG5cdFx0c2VsZWN0QXR0cj86c3RyaW5nLFxyXG5cdFx0ZXJyb3I/OnN0cmluZyxcclxuXHRcdGJ1dHRvbk5hbWU/OiBzdHJpbmcsXHJcblx0XHR2YWxpZGF0aW9ucz86e1trZXk6c3RyaW5nXTogVmFsaWRhdG9yc30sXHJcblx0XHRtYW5hZ2VyRnVuY3Rpb24/OiBzdHJpbmcsXHJcblx0XHRpdGVtTmFtZT86IHN0cmluZyxcclxuXHRcdHN0eWxlQXR0cmlidXRlPzogeyBba2V5OnN0cmluZ106IEFycmF5PFN0eWxlQ29tcGFyaXNvbj4gfVxyXG5cdH0sXHRcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdHlsZUNvbXBhcmlzb24ge1xyXG5cdGNvbXA6ICc9JyB8ICc+JyB8ICc8JyB8ICc+PScgfCAnPD0nIHwgJyE9JyxcclxuXHR2YWx1ZTogYW55LFxyXG5cdGRlcGVuZGVudENvbD86IHN0cmluZyxcclxuXHRzdHlsZTogYW55LFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRvcnN7XHJcblx0bWluTGVuZ3RoPzpudW1iZXIsXHJcblx0bWF4TGVuZ3RoPzpudW1iZXIsXHJcblx0bWluVmFsdWU/Om51bWJlcixcclxuXHRtYXhWYWx1ZT86bnVtYmVyLFxyXG5cdHBhdHRlcm4/OnN0cmluZyxcclxufVxyXG4iLCI8bWF0LWZvcm0tZmllbGQgYXBwZWFyYW5jZT1cIm5vbmVcIiBzdHlsZT1cIndpZHRoOiA4MCU7XCI+XHJcblx0XHRcclxuICAgICAgPGlucHV0IHN0eWxlPVwid2lkdGg6MTAwJTsgZm9udC1mYW1pbHk6IFJvYm90by1MaWdodDtmb250LXNpemU6IDAuODMzM3Z3O1wiICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBSZWNvcmRzXCIgKGtleXVwKT1cImFwcGx5RmlsdGVyKCRldmVudC50YXJnZXQudmFsdWUpXCJcclxuICAgICAgLz5cclxuXHJcbjwvbWF0LWZvcm0tZmllbGQ+XHJcblxyXG48ZGl2IGNsYXNzPVwidGFibGUtY29udGFpbmVyXCIgaWQ9XCJ0YWJsZUNvbnRhaW5lclwiPlxyXG4gIDx0YWJsZSBtYXQtdGFibGUgW2RhdGFTb3VyY2VdPVwiZGF0YVNvdXJjZVwiIG1hdFNvcnQ+XHJcbiAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBpIG9mIHRhYmxlRGF0YS5tZXRhRGF0YS5jb2x1bW5fbmFtZXM7IGxldCBpbmRleD1pbmRleFwiIG1hdENvbHVtbkRlZj1cInt7aX19XCI+XHJcbiAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJpPT0nZWRpdCc7IGVsc2UgZGF0YVBhcnRcIj5cclxuICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxyXG4gICAgICAgIDwvdGg+XHJcbiAgICAgICAgPHRkIHN0eWxlPVwicGFkZGluZy1yaWdodDogMTRweDtcIiBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCBlbGVtZW50O2xldCByb3dEYXRhPSRpbXBsaWNpdDtcIiBjbGFzcz1cImVkaXRcIlxyXG4gICAgICAgICAgKGNsaWNrKT1cImZldGNoUm93TnVtYmVyRWRpdChyb3dEYXRhKVwiPjxidXR0b24gc3R5bGU9XCJvdXRsaW5lOiBub25lO1wiIG1hdC1idXR0b24+RURJVDwvYnV0dG9uPjwvdGQ+XHJcbiAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICA8bmctdGVtcGxhdGUgI2RhdGFQYXJ0PlxyXG4gICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgKm1hdEhlYWRlckNlbGxEZWYgbWF0LXNvcnQtaGVhZGVyPlxyXG4gICAgICAgICAge3t0YWJsZURhdGEubWV0YURhdGEuZGlzcGxheV9uYW1lc1tpXX19XHJcbiAgICAgICAgPC90aD5cclxuICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgZWxlbWVudDtcIj57e2VsZW1lbnRbaV19fTwvdGQ+XHJcbiAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgIDx0ciBtYXQtaGVhZGVyLXJvdyAqbWF0SGVhZGVyUm93RGVmPVwiIHRhYmxlRGF0YS5tZXRhRGF0YS5jb2x1bW5fbmFtZXM7c3RpY2t5OiB0cnVlXCI+PC90cj5cclxuICAgIDx0ciBtYXQtcm93ICptYXRSb3dEZWY9XCJsZXQgcm93OyBjb2x1bW5zOiB0YWJsZURhdGEubWV0YURhdGEuY29sdW1uX25hbWVzO1wiPjwvdHI+XHJcbiAgICA8bWF0LXBhZ2luYXRvciBbcGFnZVNpemVPcHRpb25zXT1cIls1LCAxMCwgMjBdXCJcclxuICAgIHNob3dGaXJzdExhc3RCdXR0b25zXHJcbiAgICBhcmlhLWxhYmVsPVwiU2VsZWN0IHBhZ2Ugb2YgcGVyaW9kaWMgZWxlbWVudHNcIj5cclxuPC9tYXQtcGFnaW5hdG9yPlxyXG4gIDwvdGFibGU+XHJcbjwvZGl2PlxyXG4iXX0=