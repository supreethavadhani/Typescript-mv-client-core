import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { MatSort } from '@angular/material/sort';
import { MatTableDataSource, MatTable } from '@angular/material/table';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/material/button";
import * as i3 from "@angular/material/icon";
import * as i4 from "@angular/material/form-field";
import * as i5 from "@angular/material/input";
import * as i6 from "@angular/material/paginator";
import * as i7 from "@angular/material/sort";
import * as i8 from "@angular/material/table";
export class MvTableComponent {
    constructor() {
        this.editAction = new EventEmitter();
        this.tableData = { data: [], metaData: {} };
        this.values = [];
        this.colored = [];
        this.separatorKeysCodes = [13, 9, 188];
        this.isView = 'auto';
        this.dropdownShow = false;
        this.filters = {};
    }
    update() {
        this.isView = this.tableData.metaData.view ? 'pointer' : 'auto';
        this.tableData = this.tableGridData;
        this.columns = this.tableData.metaData.column_names;
        this.tempDatasource = this.tableGridData.data;
        this.tempDatasource = this.tableGridData.data;
        this.tableData.metaData.column_names = this.tableData.metaData.column_names.concat(['edit']);
        this.dataSource = new MatTableDataSource(this.tableData.data);
        this.dataSource.sort = this.sort;
    }
    getColumnData(fd) {
        let tableData = {
            data: [],
            metaData: {
                column_names: [],
                display_names: {},
            },
        };
        fd.form.fields.forEach(i => {
            if (i.controlType == 'Input') {
                tableData.metaData.column_names.push(i.name);
                tableData.metaData.display_names[i.name] = i.label;
            }
        });
        return tableData;
    }
    fetchRowNumberEdit(rowData) {
        this.rowNumber = this.tempDatasource.indexOf(rowData);
        console.log(this.rowNumber);
        this.editAction.next(this.rowNumber);
    }
    applyFilter(filterValue) {
        if (this.dataSource)
            this.dataSource.filter = filterValue.trim().toLowerCase();
    }
}
MvTableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.1.3", ngImport: i0, type: MvTableComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
MvTableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.1.3", type: MvTableComponent, selector: "app-mv-table", inputs: { tableGridData: "tableGridData" }, outputs: { editAction: "editAction" }, viewQueries: [{ propertyName: "table", first: true, predicate: MatTable, descendants: true, static: true }, { propertyName: "sort", first: true, predicate: MatSort, descendants: true, static: true }], ngImport: i0, template: "<div class=\"table-container\" id=\"tableContainer\">\r\n  <mat-form-field appearance=\"fill\" style=\"margin:1.2rem\">\r\n    <mat-label>Search for Records</mat-label>\r\n    <input matInput style=\"width:100%; font-family: Roboto-Light;font-size: 0.8333vw;\" placeholder=\"Search Records\"\r\n      (keyup)=\"applyFilter($event.target.value)\" />\r\n    <mat-icon matSuffix>search</mat-icon>\r\n  </mat-form-field>\r\n\t<span *ngIf= \"dataSource.filteredData\" style=\"font-family:'Roboto-Light'; font-size: 0.8rem;color: rgba(0,0,0,0.6);\">Total Items: {{dataSource.filteredData.length}}</span>\r\n  <table mat-table [dataSource]=\"dataSource\" matSort>\r\n    <ng-container *ngFor=\"let i of tableData.metaData.column_names; let index=index\" matColumnDef=\"{{i}}\">\r\n      <ng-container *ngIf=\"i=='edit'; else dataPart\">\r\n        <th mat-header-cell *matHeaderCellDef>\r\n        </th>\r\n        <td style=\"padding-right: 14px;\" mat-cell *matCellDef=\"let element;let rowData=$implicit;\" class=\"edit\"\r\n          (click)=\"fetchRowNumberEdit(rowData)\"><button style=\"outline: none;color:#004faa\" mat-button>EDIT</button></td>\r\n      </ng-container>\r\n      <ng-template #dataPart>\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n          {{tableData.metaData.display_names[i]}}\r\n        </th>\r\n        <td mat-cell *matCellDef=\"let element;\">{{element[i]}}</td>\r\n      </ng-template>\r\n    </ng-container>\r\n    <tr mat-header-row *matHeaderRowDef=\" tableData.metaData.column_names;sticky: true\"></tr>\r\n    <tr mat-row *matRowDef=\"let row; columns: tableData.metaData.column_names;\"></tr>\r\n    <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons aria-label=\"Select page of periodic elements\">\r\n    </mat-paginator>\r\n  </table>\r\n</div>\r\n", styles: [".table-container{max-height:85vh;overflow:auto}table{width:100%}tr.mat-header-row{height:3.125rem;font-weight:700}th{height:3.125rem;font-family:Lato!important;font-size:1.3rem;color:#004faa;border-bottom:none!important}td{height:3.125rem;cursor:pointer;border-bottom:1px dashed #e0e0e0!important;font-size:1.2rem;color:#0009}:host ::ng-deep .mat-form-field-wrapper{padding-bottom:0!important}:host ::ng-deep .mat-form-field-infix{width:auto}tr.mat-row,tr.mat-footer-row{height:5rem}\n"], dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { kind: "component", type: i3.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "component", type: i4.MatFormField, selector: "mat-form-field", inputs: ["color", "appearance", "hideRequiredMarker", "hintLabel", "floatLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i4.MatLabel, selector: "mat-label" }, { kind: "directive", type: i4.MatSuffix, selector: "[matSuffix]" }, { kind: "directive", type: i5.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "component", type: i6.MatPaginator, selector: "mat-paginator", inputs: ["disabled"], exportAs: ["matPaginator"] }, { kind: "directive", type: i7.MatSort, selector: "[matSort]", inputs: ["matSortDisabled", "matSortActive", "matSortStart", "matSortDirection", "matSortDisableClear"], outputs: ["matSortChange"], exportAs: ["matSort"] }, { kind: "component", type: i7.MatSortHeader, selector: "[mat-sort-header]", inputs: ["disabled", "mat-sort-header", "arrowPosition", "start", "sortActionDescription", "disableClear"], exportAs: ["matSortHeader"] }, { kind: "component", type: i8.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { kind: "directive", type: i8.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { kind: "directive", type: i8.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { kind: "directive", type: i8.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { kind: "directive", type: i8.MatCellDef, selector: "[matCellDef]" }, { kind: "directive", type: i8.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }, { kind: "directive", type: i8.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { kind: "directive", type: i8.MatCell, selector: "mat-cell, td[mat-cell]" }, { kind: "component", type: i8.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { kind: "component", type: i8.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.1.3", ngImport: i0, type: MvTableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-mv-table', template: "<div class=\"table-container\" id=\"tableContainer\">\r\n  <mat-form-field appearance=\"fill\" style=\"margin:1.2rem\">\r\n    <mat-label>Search for Records</mat-label>\r\n    <input matInput style=\"width:100%; font-family: Roboto-Light;font-size: 0.8333vw;\" placeholder=\"Search Records\"\r\n      (keyup)=\"applyFilter($event.target.value)\" />\r\n    <mat-icon matSuffix>search</mat-icon>\r\n  </mat-form-field>\r\n\t<span *ngIf= \"dataSource.filteredData\" style=\"font-family:'Roboto-Light'; font-size: 0.8rem;color: rgba(0,0,0,0.6);\">Total Items: {{dataSource.filteredData.length}}</span>\r\n  <table mat-table [dataSource]=\"dataSource\" matSort>\r\n    <ng-container *ngFor=\"let i of tableData.metaData.column_names; let index=index\" matColumnDef=\"{{i}}\">\r\n      <ng-container *ngIf=\"i=='edit'; else dataPart\">\r\n        <th mat-header-cell *matHeaderCellDef>\r\n        </th>\r\n        <td style=\"padding-right: 14px;\" mat-cell *matCellDef=\"let element;let rowData=$implicit;\" class=\"edit\"\r\n          (click)=\"fetchRowNumberEdit(rowData)\"><button style=\"outline: none;color:#004faa\" mat-button>EDIT</button></td>\r\n      </ng-container>\r\n      <ng-template #dataPart>\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n          {{tableData.metaData.display_names[i]}}\r\n        </th>\r\n        <td mat-cell *matCellDef=\"let element;\">{{element[i]}}</td>\r\n      </ng-template>\r\n    </ng-container>\r\n    <tr mat-header-row *matHeaderRowDef=\" tableData.metaData.column_names;sticky: true\"></tr>\r\n    <tr mat-row *matRowDef=\"let row; columns: tableData.metaData.column_names;\"></tr>\r\n    <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons aria-label=\"Select page of periodic elements\">\r\n    </mat-paginator>\r\n  </table>\r\n</div>\r\n", styles: [".table-container{max-height:85vh;overflow:auto}table{width:100%}tr.mat-header-row{height:3.125rem;font-weight:700}th{height:3.125rem;font-family:Lato!important;font-size:1.3rem;color:#004faa;border-bottom:none!important}td{height:3.125rem;cursor:pointer;border-bottom:1px dashed #e0e0e0!important;font-size:1.2rem;color:#0009}:host ::ng-deep .mat-form-field-wrapper{padding-bottom:0!important}:host ::ng-deep .mat-form-field-infix{width:auto}tr.mat-row,tr.mat-footer-row{height:5rem}\n"] }]
        }], propDecorators: { tableGridData: [{
                type: Input
            }], editAction: [{
                type: Output
            }], table: [{
                type: ViewChild,
                args: [MatTable, { static: true }]
            }], sort: [{
                type: ViewChild,
                args: [MatSort, { static: true }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbXYtY2xpZW50LWNvcmUvc3JjL212LWNvcmUvbXYtY29tcG9uZW50cy9tdi10YWJsZS9jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tdi1jbGllbnQtY29yZS9zcmMvbXYtY29yZS9tdi1jb21wb25lbnRzL212LXRhYmxlL2NvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBQyxNQUFNLEVBQUMsU0FBUyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsUUFBUSxFQUFrQixNQUFNLHlCQUF5QixDQUFDOzs7Ozs7Ozs7O0FBV3ZGLE1BQU0sT0FBTyxnQkFBZ0I7SUFON0I7UUFRVyxlQUFVLEdBQUcsSUFBSSxZQUFZLEVBQVUsQ0FBQztRQUkzQyxjQUFTLEdBQU8sRUFBQyxJQUFJLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQztRQUV0QyxXQUFNLEdBQWUsRUFBRSxDQUFDO1FBRy9CLFlBQU8sR0FBVSxFQUFFLENBQUE7UUFFVix1QkFBa0IsR0FBYSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDckQsV0FBTSxHQUFXLE1BQU0sQ0FBQztRQUN4QixpQkFBWSxHQUFZLEtBQUssQ0FBQztRQUM5QixZQUFPLEdBQU8sRUFBRSxDQUFDO0tBK0NqQjtJQTVDQSxNQUFNO1FBQ0wsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFBO1FBQy9ELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUNwQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQTtRQUVuRCxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxhQUFjLENBQUMsSUFBSSxDQUFDO1FBQy9DLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGFBQWMsQ0FBQyxJQUFJLENBQUE7UUFDOUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzdGLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxrQkFBa0IsQ0FBTSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDakMsQ0FBQztJQUVGLGFBQWEsQ0FBQyxFQUFXO1FBQ3hCLElBQUksU0FBUyxHQUFpQjtZQUM3QixJQUFJLEVBQUUsRUFBRTtZQUNSLFFBQVEsRUFBRTtnQkFDUixZQUFZLEVBQUMsRUFDWjtnQkFDRCxhQUFhLEVBQUUsRUFDZDthQUVGO1NBQ0MsQ0FBQztRQUNKLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUEsRUFBRTtZQUMxQixJQUFHLENBQUMsQ0FBQyxXQUFXLElBQUksT0FBTyxFQUFFO2dCQUM3QixTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFBO2dCQUM1QyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQTthQUNqRDtRQUNGLENBQUMsQ0FBQyxDQUFBO1FBQ0YsT0FBTyxTQUFTLENBQUE7SUFDakIsQ0FBQztJQUVELGtCQUFrQixDQUFDLE9BQVc7UUFDN0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN0RCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUMzQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVELFdBQVcsQ0FBQyxXQUFtQjtRQUNoQyxJQUFHLElBQUksQ0FBQyxVQUFVO1lBQ2xCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN6RCxDQUFDOzs2R0E1RFMsZ0JBQWdCO2lHQUFoQixnQkFBZ0IsOEtBR2pCLFFBQVEscUZBQ1IsT0FBTyw4RENqQm5CLHN5REE2QkE7MkZEaEJhLGdCQUFnQjtrQkFONUIsU0FBUzsrQkFDQyxjQUFjOzhCQU1mLGFBQWE7c0JBQXJCLEtBQUs7Z0JBQ0ksVUFBVTtzQkFBbkIsTUFBTTtnQkFDNEIsS0FBSztzQkFBdkMsU0FBUzt1QkFBQyxRQUFRLEVBQUMsRUFBQyxNQUFNLEVBQUMsSUFBSSxFQUFDO2dCQUNHLElBQUk7c0JBQXZDLFNBQVM7dUJBQUMsT0FBTyxFQUFFLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCxPdXRwdXQsVmlld0NoaWxkfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTWF0U29ydCB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3NvcnQnO1xyXG5pbXBvcnQgeyBNYXRUYWJsZURhdGFTb3VyY2UsIE1hdFRhYmxlLCBNYXRUYWJsZU1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3RhYmxlJztcclxuaW1wb3J0IHsgVm8gfSBmcm9tICcuLi8uLi9tdi1mb3JtLWNvcmUvdHlwZXMnO1xyXG5pbXBvcnQgeyBGb3JtRGF0YSB9IGZyb20gJy4uLy4uL212LWZvcm0tY29yZS9mb3JtRGF0YSc7XHJcblxyXG5cclxuQENvbXBvbmVudCh7XHJcblx0c2VsZWN0b3I6ICdhcHAtbXYtdGFibGUnLFxyXG5cdHRlbXBsYXRlVXJsOiAnLi9jb21wb25lbnQuaHRtbCcsXHJcblx0c3R5bGVVcmxzOlsnLi9jb21wb25lbnQuc2NzcyddXHJcbn0pXHJcblxyXG5leHBvcnQgY2xhc3MgTXZUYWJsZUNvbXBvbmVudCB7XHJcblx0QElucHV0KCkgdGFibGVHcmlkRGF0YTpUYWJsZU1ldGFEYXRhIHwgdW5kZWZpbmVkO1xyXG5cdEBPdXRwdXQoKSBlZGl0QWN0aW9uID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XHJcblx0QFZpZXdDaGlsZChNYXRUYWJsZSx7c3RhdGljOnRydWV9KSB0YWJsZTogTWF0VGFibGU8YW55PiB8IHVuZGVmaW5lZDtcclxuXHRAVmlld0NoaWxkKE1hdFNvcnQsIHtzdGF0aWM6IHRydWV9KSBzb3J0OiBNYXRTb3J0IHwgdW5kZWZpbmVkO1xyXG5cdFxyXG5cdHB1YmxpYyB0YWJsZURhdGE6YW55ID0ge2RhdGE6W10sbWV0YURhdGE6e319O1xyXG5cdHB1YmxpYyBkYXRhU291cmNlOmFueTtcclxuXHRwdWJsaWMgdmFsdWVzOiBBcnJheTxhbnk+ID0gW107XHJcblx0cHVibGljIHRlbXBEYXRhc291cmNlOiBhbnk7XHJcblx0cHVibGljIHJvd051bWJlcjphbnk7XHJcblx0Y29sb3JlZDogYW55W10gPSBbXVxyXG5cclxuXHRyZWFkb25seSBzZXBhcmF0b3JLZXlzQ29kZXM6IG51bWJlcltdID0gWzEzLCA5LCAxODhdO1xyXG5cdGlzVmlldzogc3RyaW5nID0gJ2F1dG8nO1xyXG5cdGRyb3Bkb3duU2hvdzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdGZpbHRlcnM6IHt9ID0ge307XHJcblx0Y29sdW1uczogYW55O1xyXG5cclxuXHR1cGRhdGUoKSB7XHJcblx0XHR0aGlzLmlzVmlldyA9IHRoaXMudGFibGVEYXRhLm1ldGFEYXRhLnZpZXcgPyAncG9pbnRlcicgOiAnYXV0bydcclxuXHRcdHRoaXMudGFibGVEYXRhID0gdGhpcy50YWJsZUdyaWREYXRhO1xyXG5cdFx0dGhpcy5jb2x1bW5zID0gdGhpcy50YWJsZURhdGEubWV0YURhdGEuY29sdW1uX25hbWVzXHJcblxyXG5cdFx0dGhpcy50ZW1wRGF0YXNvdXJjZSA9IHRoaXMudGFibGVHcmlkRGF0YSEuZGF0YTtcclxuXHRcdHRoaXMudGVtcERhdGFzb3VyY2UgPSB0aGlzLnRhYmxlR3JpZERhdGEhLmRhdGFcclxuXHRcdHRoaXMudGFibGVEYXRhLm1ldGFEYXRhLmNvbHVtbl9uYW1lcyA9IHRoaXMudGFibGVEYXRhLm1ldGFEYXRhLmNvbHVtbl9uYW1lcy5jb25jYXQoWydlZGl0J10pO1xyXG5cdFx0dGhpcy5kYXRhU291cmNlID0gbmV3IE1hdFRhYmxlRGF0YVNvdXJjZTxhbnk+KHRoaXMudGFibGVEYXRhLmRhdGEpO1xyXG5cdFx0dGhpcy5kYXRhU291cmNlLnNvcnQgPSB0aGlzLnNvcnQ7XHJcblx0XHR9XHJcblxyXG5cdGdldENvbHVtbkRhdGEoZmQ6Rm9ybURhdGEpe1xyXG5cdFx0bGV0IHRhYmxlRGF0YTpUYWJsZU1ldGFEYXRhID0ge1xyXG5cdFx0XHRkYXRhOiBbXSxcclxuXHRcdFx0bWV0YURhdGE6IHtcclxuXHRcdFx0ICBjb2x1bW5fbmFtZXM6W1xyXG5cdFx0XHQgIF0sXHJcblx0XHRcdCAgZGlzcGxheV9uYW1lczogeyBcclxuXHRcdFx0ICB9LFxyXG5cdCAgXHJcblx0XHRcdH0sXHJcblx0XHQgIH07XHJcblx0XHRmZC5mb3JtLmZpZWxkcyEuZm9yRWFjaChpPT57XHJcblx0XHRcdGlmKGkuY29udHJvbFR5cGUgPT0gJ0lucHV0Jykge1xyXG5cdFx0XHR0YWJsZURhdGEubWV0YURhdGEuY29sdW1uX25hbWVzLnB1c2goaS5uYW1lKVxyXG5cdFx0XHR0YWJsZURhdGEubWV0YURhdGEuZGlzcGxheV9uYW1lc1tpLm5hbWVdID0gaS5sYWJlbFxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdFx0cmV0dXJuIHRhYmxlRGF0YVxyXG5cdH1cclxuXHJcblx0ZmV0Y2hSb3dOdW1iZXJFZGl0KHJvd0RhdGE6YW55KSB7XHJcblx0XHR0aGlzLnJvd051bWJlciA9IHRoaXMudGVtcERhdGFzb3VyY2UuaW5kZXhPZihyb3dEYXRhKTtcclxuXHRcdGNvbnNvbGUubG9nKHRoaXMucm93TnVtYmVyKVxyXG5cdFx0dGhpcy5lZGl0QWN0aW9uLm5leHQodGhpcy5yb3dOdW1iZXIpO1xyXG5cdCAgfVxyXG5cclxuXHQgIGFwcGx5RmlsdGVyKGZpbHRlclZhbHVlOiBzdHJpbmcpIHtcclxuXHRcdGlmKHRoaXMuZGF0YVNvdXJjZSlcclxuXHRcdHRoaXMuZGF0YVNvdXJjZS5maWx0ZXIgPSBmaWx0ZXJWYWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuXHQgIH1cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlTWV0YURhdGF7XHJcblx0ZGF0YTpWb1tdLFxyXG5cdG1ldGFEYXRhOntcclxuXHRcdGNvbHVtbl9uYW1lczpzdHJpbmdbXSxcclxuXHRcdGRpc3BsYXlfbmFtZXM6e1trZXk6c3RyaW5nXTpzdHJpbmd9LFxyXG5cdFx0ZWRpdGFibGVfY29sdW1ucz86c3RyaW5nW10sXHJcblx0XHRiYWRnZXNDb2x1bW4/OnN0cmluZyxcclxuXHRcdGRpc2FibGVCYWRnZXM/OmJvb2xlYW4sXHJcblx0XHRhbGxTZWxlY3RlZD86Ym9vbGVhbixcclxuXHRcdHZpZXc/OmJvb2xlYW4sXHJcblx0XHRlZGl0Pzpib29sZWFuLFxyXG5cdFx0c2VhcmNoPzpib29sZWFuLFxyXG5cdFx0cGxhY2Vob2xkZXI/OnN0cmluZyxcclxuXHRcdHNlbGVjdEF0dHI/OnN0cmluZyxcclxuXHRcdGVycm9yPzpzdHJpbmcsXHJcblx0XHRidXR0b25OYW1lPzogc3RyaW5nLFxyXG5cdFx0dmFsaWRhdGlvbnM/Ontba2V5OnN0cmluZ106IFZhbGlkYXRvcnN9LFxyXG5cdFx0bWFuYWdlckZ1bmN0aW9uPzogc3RyaW5nLFxyXG5cdFx0aXRlbU5hbWU/OiBzdHJpbmcsXHJcblx0XHRzdHlsZUF0dHJpYnV0ZT86IHsgW2tleTpzdHJpbmddOiBBcnJheTxTdHlsZUNvbXBhcmlzb24+IH1cclxuXHR9LFx0XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3R5bGVDb21wYXJpc29uIHtcclxuXHRjb21wOiAnPScgfCAnPicgfCAnPCcgfCAnPj0nIHwgJzw9JyB8ICchPScsXHJcblx0dmFsdWU6IGFueSxcclxuXHRkZXBlbmRlbnRDb2w/OiBzdHJpbmcsXHJcblx0c3R5bGU6IGFueSxcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0b3Jze1xyXG5cdG1pbkxlbmd0aD86bnVtYmVyLFxyXG5cdG1heExlbmd0aD86bnVtYmVyLFxyXG5cdG1pblZhbHVlPzpudW1iZXIsXHJcblx0bWF4VmFsdWU/Om51bWJlcixcclxuXHRwYXR0ZXJuPzpzdHJpbmcsXHJcbn1cclxuIiwiPGRpdiBjbGFzcz1cInRhYmxlLWNvbnRhaW5lclwiIGlkPVwidGFibGVDb250YWluZXJcIj5cclxuICA8bWF0LWZvcm0tZmllbGQgYXBwZWFyYW5jZT1cImZpbGxcIiBzdHlsZT1cIm1hcmdpbjoxLjJyZW1cIj5cclxuICAgIDxtYXQtbGFiZWw+U2VhcmNoIGZvciBSZWNvcmRzPC9tYXQtbGFiZWw+XHJcbiAgICA8aW5wdXQgbWF0SW5wdXQgc3R5bGU9XCJ3aWR0aDoxMDAlOyBmb250LWZhbWlseTogUm9ib3RvLUxpZ2h0O2ZvbnQtc2l6ZTogMC44MzMzdnc7XCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggUmVjb3Jkc1wiXHJcbiAgICAgIChrZXl1cCk9XCJhcHBseUZpbHRlcigkZXZlbnQudGFyZ2V0LnZhbHVlKVwiIC8+XHJcbiAgICA8bWF0LWljb24gbWF0U3VmZml4PnNlYXJjaDwvbWF0LWljb24+XHJcbiAgPC9tYXQtZm9ybS1maWVsZD5cclxuXHQ8c3BhbiAqbmdJZj0gXCJkYXRhU291cmNlLmZpbHRlcmVkRGF0YVwiIHN0eWxlPVwiZm9udC1mYW1pbHk6J1JvYm90by1MaWdodCc7IGZvbnQtc2l6ZTogMC44cmVtO2NvbG9yOiByZ2JhKDAsMCwwLDAuNik7XCI+VG90YWwgSXRlbXM6IHt7ZGF0YVNvdXJjZS5maWx0ZXJlZERhdGEubGVuZ3RofX08L3NwYW4+XHJcbiAgPHRhYmxlIG1hdC10YWJsZSBbZGF0YVNvdXJjZV09XCJkYXRhU291cmNlXCIgbWF0U29ydD5cclxuICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGkgb2YgdGFibGVEYXRhLm1ldGFEYXRhLmNvbHVtbl9uYW1lczsgbGV0IGluZGV4PWluZGV4XCIgbWF0Q29sdW1uRGVmPVwie3tpfX1cIj5cclxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImk9PSdlZGl0JzsgZWxzZSBkYXRhUGFydFwiPlxyXG4gICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgKm1hdEhlYWRlckNlbGxEZWY+XHJcbiAgICAgICAgPC90aD5cclxuICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nLXJpZ2h0OiAxNHB4O1wiIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IGVsZW1lbnQ7bGV0IHJvd0RhdGE9JGltcGxpY2l0O1wiIGNsYXNzPVwiZWRpdFwiXHJcbiAgICAgICAgICAoY2xpY2spPVwiZmV0Y2hSb3dOdW1iZXJFZGl0KHJvd0RhdGEpXCI+PGJ1dHRvbiBzdHlsZT1cIm91dGxpbmU6IG5vbmU7Y29sb3I6IzAwNGZhYVwiIG1hdC1idXR0b24+RURJVDwvYnV0dG9uPjwvdGQ+XHJcbiAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICA8bmctdGVtcGxhdGUgI2RhdGFQYXJ0PlxyXG4gICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgKm1hdEhlYWRlckNlbGxEZWYgbWF0LXNvcnQtaGVhZGVyPlxyXG4gICAgICAgICAge3t0YWJsZURhdGEubWV0YURhdGEuZGlzcGxheV9uYW1lc1tpXX19XHJcbiAgICAgICAgPC90aD5cclxuICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgZWxlbWVudDtcIj57e2VsZW1lbnRbaV19fTwvdGQ+XHJcbiAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgIDx0ciBtYXQtaGVhZGVyLXJvdyAqbWF0SGVhZGVyUm93RGVmPVwiIHRhYmxlRGF0YS5tZXRhRGF0YS5jb2x1bW5fbmFtZXM7c3RpY2t5OiB0cnVlXCI+PC90cj5cclxuICAgIDx0ciBtYXQtcm93ICptYXRSb3dEZWY9XCJsZXQgcm93OyBjb2x1bW5zOiB0YWJsZURhdGEubWV0YURhdGEuY29sdW1uX25hbWVzO1wiPjwvdHI+XHJcbiAgICA8bWF0LXBhZ2luYXRvciBbcGFnZVNpemVPcHRpb25zXT1cIls1LCAxMCwgMjBdXCIgc2hvd0ZpcnN0TGFzdEJ1dHRvbnMgYXJpYS1sYWJlbD1cIlNlbGVjdCBwYWdlIG9mIHBlcmlvZGljIGVsZW1lbnRzXCI+XHJcbiAgICA8L21hdC1wYWdpbmF0b3I+XHJcbiAgPC90YWJsZT5cclxuPC9kaXY+XHJcbiJdfQ==